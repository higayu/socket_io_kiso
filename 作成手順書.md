# Socket.IO åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †æ›¸ï¼ˆNode.js + Expressï¼‰

## âœ… å‰ææ¡ä»¶

- Node.js ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨  
  ï¼ˆç¢ºèªã‚³ãƒãƒ³ãƒ‰ï¼š`node -v`ï¼‰

---

## â‘  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®ä½œæˆ

```bash
mkdir socket-demo
cd socket-demo
```

# ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
socket-demo/
â”œâ”€â”€ node_modules/ # npmã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ package.json # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ package-lock.json # ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šç”¨ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ server.js # ã‚µãƒ¼ãƒãƒ¼å´ã®Socket.IOå®Ÿè£…ï¼ˆNode.js + Expressï¼‰
â””â”€â”€ index.html # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆç”¨HTMLãƒ•ã‚¡ã‚¤ãƒ«
```

```bash
npm init -y
npm install express socket.io
```

â‘£ ã‚µãƒ¼ãƒãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆï¼ˆserver.jsï¼‰
```server.js
// server.js
const express = require('express');
const http = require('http');
const { Server } = require('socket.io');

const app = express();
const server = http.createServer(app);
const io = new Server(server);

io.on('connection', (socket) => {
  console.log('ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒæ¥ç¶šã—ã¾ã—ãŸ');

  socket.on('disconnect', () => {
    console.log('ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒåˆ‡æ–­ã•ã‚Œã¾ã—ãŸ');
  });
});

app.get('/', (req, res) => {
  res.sendFile(__dirname + '/index.html');
});

server.listen(3000, () => {
  console.log('http://localhost:3000 ã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•');
});
```

â‘¤ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆHTMLã®ä½œæˆï¼ˆindex.htmlï¼‰
```index.html
<!-- index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Socket.IO ãƒ†ã‚¹ãƒˆ</title>
</head>
<body>
  <h1>Socket.IO ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸</h1>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    console.log('ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã—ã¾ã—ãŸ');
  </script>
</body>
</html>
```
â‘¥ ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
node server.js
```

